(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),o=n.n(a),r=n(10),i=n.n(r),c=(n(9),n(3)),h=n(4),d=n(2),u=n(6),l=n(5);n(16);var j=function(){return Object(s.jsx)("article",{className:"info",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("h2",{children:"This app allows you to create and store words dictionary. First, you have to log in, or register, if you don't have an account."})}),Object(s.jsx)("li",{children:Object(s.jsx)("h2",{children:"After login you can see already existing words in slider, or add your own ones!"})}),Object(s.jsx)("li",{children:Object(s.jsx)("h2",{children:"You can also retrieve dictionary from the database. Words are returned in form of text, separated by comma (so they are ready to put in pictionary game)"})})]})})};var b=function(e){return Object(s.jsx)("article",{id:"tutorial",children:Object(s.jsx)("h2",{children:"Type phrases or words separated by coma, then hit \u201cSend\u201d button to add them to database! Words can only contain letters and numbers, and can be separated by spaces to form phrases."})})},f=(n(17),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).updateAnimationIndex=s.updateAnimationIndex.bind(Object(d.a)(s)),s.speed=s.props.speed||1,s.ref=o.a.createRef(),s.w=void 0,s.state={animationIndex:0},s}return Object(h.a)(n,[{key:"startAnimation",value:function(){this.RAF||(this.RAF=window.requestAnimationFrame(this.updateAnimationIndex))}},{key:"stopAnimation",value:function(){window.cancelAnimationFrame(this.RAF)}},{key:"updateAnimationIndex",value:function(){var e=this.state.animationIndex+this.speed;this.ref.current.offsetLeft-this.ref.current.offsetWidth>=this.w&&(e-=this.w),this.setState({animationIndex:e}),this.RAF=window.requestAnimationFrame(this.updateAnimationIndex)}},{key:"componentDidMount",value:function(){this.w=this.ref.current.offsetParent.offsetWidth,this.startAnimation()}},{key:"componentWillUnmount",value:function(){this.stopAnimation()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"panel",ref:this.ref,style:{left:this.state.animationIndex},children:[Object(s.jsx)("p",{className:"panel__word",children:this.props.word}),Object(s.jsx)("p",{className:"panel__author",children:this.props.author})]})}}]),n}(o.a.Component));function p(){return Object(s.jsx)("svg",{width:"0",height:"0",children:Object(s.jsx)("defs",{children:Object(s.jsx)("clipPath",{id:"smallClip",children:Object(s.jsx)("path",{d:"M632 0V553H0L632 0Z"})})})})}function m(){return Object(s.jsx)("svg",{width:"0",height:"0",children:Object(s.jsx)("defs",{children:Object(s.jsx)("clipPath",{id:"mainClip",children:Object(s.jsx)("path",{d:"M2828 0H0V2189H2226L2828 1664V0Z"})})})})}var O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).animationSpeed=1,s}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.switched?"corner corner__background moved":"corner corner__background",n=[[],[],[]];return this.props.messages.map((function(t,n){var a=t.user,o=t.word;return Object(s.jsx)(f,{author:a,word:o,speed:e.animationSpeed},n)})).forEach((function(e){var t=e.key%3;n[t].push(e)})),Object(s.jsxs)("div",{className:"animationContainer",children:[Object(s.jsx)(p,{}),Object(s.jsx)(m,{}),Object(s.jsx)("div",{className:t,children:" "}),Object(s.jsx)("div",{className:"corner corner__slider",children:Object(s.jsxs)("div",{className:"messagesWrapper",children:[Object(s.jsx)("div",{className:"row",children:n[0]}),Object(s.jsx)("div",{className:"row",style:{transform:"translate(300px, 0)"},children:n[1]}),Object(s.jsx)("div",{className:"row",children:n[2]})]})})]})}}]),n}(o.a.Component),g=n(7);var v=function(e){return Object(s.jsxs)("div",{className:e.class+" formField",children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.children}),Object(s.jsxs)("div",{className:"wrapper",tabIndex:"-1",children:[Object(s.jsx)("input",{value:e.value,onChange:e.onChange,id:e.id,type:e.type,name:e.name,required:!0}),Object(s.jsx)("div",{className:"bar"})]})]})},x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.state={name:"",password:"",errorMessage:"",csrf:""},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/login",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){e.setState({csrf:t.csrf_token})})).catch((function(e){return console.error(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={user_name:this.state.name,user_pass:this.state.password},s={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify(n)};fetch("/api/login",s).then((function(e){e.ok?t.props.onLogin():t.setState({errorMessage:"Something went wrong!"})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return console.log(this.state),Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,id:"loginForm",autoComplete:"off",children:[Object(s.jsx)(v,{id:"name",value:this.state.name,onChange:this.handleChange,class:"loginField",name:"user_name",type:"text",children:"Login: "}),Object(s.jsx)(v,{id:"password",value:this.state.password,onChange:this.handleChange,class:"passwordField",name:"user_pass",type:"password",children:"Password: "}),Object(s.jsxs)("div",{className:"buttonErrorWrapper",children:[Object(s.jsx)("p",{className:"errorMessage",children:this.state.errorMessage}),Object(s.jsx)("button",{type:"submit",className:"submitButton",children:"Submit"})]})]})})}}]),n}(o.a.Component),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.state={name:"",password:"",password2:"",secretKey:"",errorMessage:"",csrf:"",style:{}},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/register",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){console.log(t),e.setState({csrf:t.csrf_token})})).catch((function(e){return console.error(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={user_name:this.state.name,user_pass:this.state.password,user_pass_repeat:this.state.password2,secret_key:this.state.secretKey},s={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify(n)};fetch("/api/register",s).then((function(e){e.ok?console.log("sucess"):t.setState({errorMessage:"Something went wrong"})})).catch((function(e){return console.error(e)})),console.log(this.state)}},{key:"render",value:function(){return Object(s.jsx)("div",{style:this.state.style,children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,id:"registerForm",autocomplete:"off",children:[Object(s.jsx)(v,{id:"name",value:this.state.name,onChange:this.handleChange,className:"loginField",name:"user_name",type:"text",children:"Login: "}),Object(s.jsx)(v,{id:"password",value:this.state.password,onChange:this.handleChange,className:"passwordField",name:"user_pass",type:"password",children:"Password: "}),Object(s.jsx)(v,{id:"password2",value:this.state.password2,onChange:this.handleChange,className:"passwordField",name:"user_pass2",type:"password",children:"Retype password: "}),Object(s.jsx)(v,{id:"secretKey",value:this.state.secretKey,onChange:this.handleChange,className:"keyField",name:"secret_key",type:"text",children:"Group key: "}),Object(s.jsxs)("div",{className:"buttonErrorWrapper",children:[Object(s.jsx)("p",{className:"errorMessage",children:this.state.errorMessage}),Object(s.jsx)("button",{type:"submit",className:"submitButton",onSubmit:this.handleSubmit,children:"Submit"})]})]})})}}]),n}(o.a.Component),y=(n(18),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).switchToLogin=s.switchToLogin.bind(Object(d.a)(s)),s.switchToRegister=s.switchToRegister.bind(Object(d.a)(s)),s.state={tab:"login"},s}return Object(h.a)(n,[{key:"switchToLogin",value:function(){this.setState({tab:"login"})}},{key:"switchToRegister",value:function(){this.setState({tab:"register"})}},{key:"render",value:function(){var e="login"===this.state.tab?Object(s.jsx)(x,{onLogin:this.props.onLogin}):Object(s.jsx)(w,{}),t="register"===this.state.tab?"active":"",n="login"===this.state.tab?"active":"";return Object(s.jsxs)("div",{className:"loginWindow",children:[e,Object(s.jsxs)("div",{className:"switch",children:[Object(s.jsx)("button",{type:"button",className:t,onClick:this.switchToRegister,children:"Register"}),Object(s.jsx)("div",{className:"divisorWrapper",children:Object(s.jsx)("div",{className:"divisor"})}),Object(s.jsx)("button",{type:"button",className:n,onClick:this.switchToLogin,children:"Login"})]})]})}}]),n}(o.a.Component)),S=(n(19),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.state={words:"",csrf:""},s}return Object(h.a)(n,[{key:"handleChange",value:function(e){this.setState({words:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.words.split(",").filter((function(e){return e.match("^[A-Za-z0-9\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0118\u0141\u0143\xd3\u015a\u0179\u017b ]+$")}));fetch("/api/add",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify({words:n})}).then((function(e){if(e.ok)return e.json();throw Error("Bad response, status ".concat(e.status))})).then((function(e){return console.log(e),e})).then((function(e){return t.props.addedNewWords(e.added_words)})).catch((function(e){return console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/add",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){return e.setState({csrf:t.csrf_token})})).then((function(){return console.log(e.state)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",className:"wordsForm",children:[Object(s.jsx)("label",{htmlFor:"words",children:"Words: "}),Object(s.jsxs)("div",{className:"wrapper",tabIndex:"-1",children:[Object(s.jsx)("textarea",{onChange:this.handleChange,id:"words",name:"words",placeholder:"Type word(s) here",children:this.state.words}),Object(s.jsx)("div",{className:"bar"})]}),Object(s.jsx)("button",{type:"submit",className:"submitButton",onSubmit:this.handleSubmit,children:"Submit"})]})}}]),n}(o.a.Component)),k=(n(20),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.newWords.length>0?Object(s.jsx)(N,{newWords:this.props.newWords}):null;return Object(s.jsxs)("div",{className:"wordsInfo",children:[Object(s.jsxs)("article",{children:[e,Object(s.jsxs)("h2",{children:["There are ",Object(s.jsx)("span",{className:"wordsInfo__count",children:this.props.wordsCount})," words in database."]}),Object(s.jsx)("h2",{children:"Hit the button below to get words from database"}),Object(s.jsx)("h2",{style:{color:"var(--form-color)",fontWeight:"bold"},children:this.props.copySuccess})]}),Object(s.jsx)(C,{showSuccessMessage:this.props.setSuccessMessage})]})}}]),n}(o.a.Component)),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleClick=s.handleClick.bind(Object(d.a)(s)),s}return Object(h.a)(n,[{key:"handleClick",value:function(e){var t=this;fetch("/api/bank").then((function(e){return e.json()})).then((function(e){navigator.clipboard.writeText(e),t.props.showSuccessMessage()})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(s.jsx)("button",{type:"button",className:"getWordsButton",onClick:this.handleClick,children:"Get words!"})}}]),n}(o.a.Component);function N(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Following words have been added to database:"}),Object(s.jsx)("h2",{style:{fontSize:"1.1em",color:"var(--form-color)",fontWeight:"bold"},children:e.newWords})]})}var W=k;var T=function(e){return Object(s.jsx)("footer",{children:Object(s.jsxs)("p",{children:["Created by: ",Object(s.jsx)("br",{})," ",Object(s.jsxs)("a",{href:"https://github.com/RafalKornel",children:[" ",Object(s.jsx)("i",{class:"fab fa-github-square"})," Rafa\u0142 Kornel "]})," "]})})},L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onLogin=s.onLogin.bind(Object(d.a)(s)),s.onLogout=s.onLogout.bind(Object(d.a)(s)),s.switchCorner=s.switchCorner.bind(Object(d.a)(s)),s.state={loggedIn:!1,opened:!1},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/check",{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(t){console.log("this is data "),console.log(t),t.logged?(e.setState({loggedIn:!0}),e.switchCorner()):"False"==t.logged&&e.setState({loggedIn:!1})})).catch((function(e){return console.error(e)}))}},{key:"onLogin",value:function(){this.setState({loggedIn:!0}),this.switchCorner()}},{key:"onLogout",value:function(){var e=this;fetch("/api/logout",{method:"GET"}).then((function(t){t.ok&&e.setState({loggedIn:!1})})).catch((function(e){return console.error(e)}))}},{key:"switchCorner",value:function(){var e=this;setInterval((function(){e.setState((function(e){return{opened:e.loggedIn}}))}),0)}},{key:"render",value:function(){var e=this.state.loggedIn?Object(s.jsx)(F,{switched:this.state.opened,onLogout:this.onLogout}):Object(s.jsx)(M,{onLogin:this.onLogin});return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)(I,{}),e,Object(s.jsx)(T,{})]})}}]),n}(o.a.Component),_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("button",{onClick:this.props.onLogout,type:"button",className:"submitButton logoutButton",children:"Logout"})}}]),n}(o.a.Component),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).addedNewWords=s.addedNewWords.bind(Object(d.a)(s)),s.setSuccessMessage=s.setSuccessMessage.bind(Object(d.a)(s)),s.state={count:0,messages:[],copySuccess:"",newWords:[]},s}return Object(h.a)(n,[{key:"addedNewWords",value:function(e){var t=this;this.setState({newWords:e}),setTimeout((function(){return t.setState({newWords:""})}),5e3),this.fetchWordsCount(),this.fetchWordsForSlider()}},{key:"setSuccessMessage",value:function(){var e=this;this.setState({copySuccess:"Database words have been copied to clipboard."}),setTimeout((function(){return e.setState({copySuccess:""})}),5e3)}},{key:"fetchWordsForSlider",value:function(){var e=this;fetch("/api/words").then((function(e){if(console.log(e),e.ok)return e.json()})).then((function(t){e.setState({messages:t})})).catch((function(e){return console.error(e)}))}},{key:"fetchWordsCount",value:function(){var e=this;fetch("/api/count").then((function(e){if(e.ok)return e.text()})).then((function(t){return e.setState({count:t})})).catch((function(e){return console.error(e)}))}},{key:"componentDidMount",value:function(){this.fetchWordsForSlider(),this.fetchWordsCount()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"mainScreen bcg",children:[Object(s.jsx)(_,{onLogout:this.props.onLogout}),Object(s.jsxs)("section",{children:[Object(s.jsx)(b,{}),Object(s.jsx)(S,{addedNewWords:this.addedNewWords})]}),Object(s.jsx)("section",{children:Object(s.jsx)(W,{newWords:this.state.newWords,wordsCount:this.state.count,copySuccess:this.state.copySuccess,setSuccessMessage:this.setSuccessMessage})}),Object(s.jsx)(O,{switched:this.props.switched,messages:this.state.messages})]})}}]),n}(o.a.Component);function M(e){return Object(s.jsxs)("div",{className:"defaultScreen bcg",children:[Object(s.jsx)(j,{}),Object(s.jsx)(y,{onLogin:e.onLogin})]})}function I(){return Object(s.jsx)("h1",{className:"logo",children:"PICTIONAR"})}var A=L;i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.f610c614.chunk.js.map