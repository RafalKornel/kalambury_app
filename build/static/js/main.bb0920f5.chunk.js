(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(n,t,e){},27:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e(1),a=e.n(o),i=e(14),s=e.n(i),c=e(5),u=e(6),d=e(4),h=e(8),l=e(7),f=(e(24),e(2)),b=e(3);function p(){var n=Object(f.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin: 0.5em;\n  text-align: right;\n  font-size: 0.9em;\n  color: var(--form-color);\n  z-index: 3;\n\n  p {\n      margin: 0;\n  }\n\n  a {\n    text-decoration: none;\n    color: var(--form-color);\n    font-size: 1.4em;\n    font-weight: bold;\n  }\n\n    @media screen and (max-width: 1100px) {\n        text-align: center;\n        top: 5em;\n        bottom: unset;\n        height: auto;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n"]);return p=function(){return n},n}var m=b.a.footer(p());var j=function(n){return Object(r.jsx)(m,{children:Object(r.jsxs)("p",{children:["Created by: ",Object(r.jsx)("br",{})," ",Object(r.jsxs)("a",{href:"https://github.com/RafalKornel",children:[" ",Object(r.jsx)("i",{class:"fab fa-github-square"})," Rafa\u0142 Kornel "]})," "]})})};function g(){var n=Object(f.a)(["\n    position: absolute;\n    font-size: 100px;\n    line-height: 70px;\n    margin: 2rem;\n    cursor: default;\n    user-select: none;\n\n    @media screen and (max-width: 1100px) {\n        margin: 0;\n        margin-top: 1rem;\n        font-size: 50px;\n        left: 50%;\n        transform: translateX(-50%);\n        text-align: center;\n    }\n"]);return g=function(){return n},n}var x=b.a.h1(g()),v=function(n){return Object(r.jsx)(x,{children:"PICTIONAR"})};var O=function(n){return Object(r.jsx)("article",{className:"tutorial",children:Object(r.jsx)("h2",{children:"Type phrases or words separated by coma, then hit \u201cSend\u201d button to add them to database! Words can only contain letters and numbers, and can be separated by spaces to form phrases."})})};function w(){var n=Object(f.a)(["\n    font-size: 1.3em;\n    text-align: right;\n"]);return w=function(){return n},n}function y(){var n=Object(f.a)(["\n    font-size: 1.6em;\n    text-align: left;\n"]);return y=function(){return n},n}function k(){var n=Object(f.a)(["\n    position: relative;\n    min-width: 200px;\n    width: max-content;\n    height: 70px;\n    z-index: 2;\n    border-radius: 9px;\n    display: flex;\n    flex-direction: column;\n    margin: 10px;\n\n    background-color: var(--input-color);\n    color: var(--form-color);\n\n    p {\n        margin: 5px 10px;\n    }\n"]);return k=function(){return n},n}var S=b.a.div(k()),C=b.a.p(y()),T=b.a.p(w()),z=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).updateAnimationIndex=r.updateAnimationIndex.bind(Object(d.a)(r)),r.speed=r.props.speed||1,r.ref=a.a.createRef(),r.w=void 0,r.state={animationIndex:0},r}return Object(u.a)(e,[{key:"startAnimation",value:function(){this.RAF||(this.RAF=window.requestAnimationFrame(this.updateAnimationIndex))}},{key:"stopAnimation",value:function(){window.cancelAnimationFrame(this.RAF)}},{key:"updateAnimationIndex",value:function(){var n=this.state.animationIndex+this.speed;this.ref.current.offsetLeft-this.ref.current.offsetWidth>=this.w&&(n-=this.w),this.setState({animationIndex:n}),this.RAF=window.requestAnimationFrame(this.updateAnimationIndex)}},{key:"componentDidMount",value:function(){this.w=this.ref.current.offsetParent.offsetWidth,this.startAnimation()}},{key:"componentWillUnmount",value:function(){this.stopAnimation()}},{key:"render",value:function(){return Object(r.jsxs)(S,{ref:this.ref,style:{left:this.state.animationIndex},children:[Object(r.jsx)(C,{children:this.props.word}),Object(r.jsx)(T,{children:this.props.author})]})}}]),e}(a.a.Component);function L(){var n=Object(f.a)(["\n    display: flex;\n    flex-direction: row;\n    width: max-content;\n"]);return L=function(){return n},n}function W(){var n=Object(f.a)(["\n    display: flex;\n    transform-origin: top left;\n    transform: rotate(-41deg) translate(-60%, 76%);\n    flex-direction: column;\n"]);return W=function(){return n},n}function M(){var n=Object(f.a)(["\n    background-color: var(--form-color);\n    display: flex;\n\n    z-index: 0;\n"]);return M=function(){return n},n}function F(){var n=Object(f.a)(["\n    background-image: var(--bcg);\n    z-index: 2;\n\n    ",";\n\n\n    @media screen and (max-width: 1100px) {\n        background-image: none;\n        background-color: var(--gradient-light);\n\n        ",";\n    }\n"]);return F=function(){return n},n}function I(){var n=Object(f.a)(["\n    width: 632px;\n    height: 553px;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    clip-path: url(#smallClip);\n    background-attachment: fixed;\n    transition: transform 500ms ease;\n\n    @media screen and (max-width: 1100px) {\n        transform: scale(0.4) translate(75%, 75%);\n        bottom: 0%;\n    }\n"]);return I=function(){return n},n}function A(){var n=Object(f.a)(["\n    position: absolute;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n"]);return A=function(){return n},n}function N(){return Object(r.jsx)("svg",{width:"0",height:"0",children:Object(r.jsx)("defs",{children:Object(r.jsx)("clipPath",{id:"smallClip",children:Object(r.jsx)("path",{d:"M632 0V553H0L632 0Z"})})})})}function R(){return Object(r.jsx)("svg",{width:"0",height:"0",children:Object(r.jsx)("defs",{children:Object(r.jsx)("clipPath",{id:"mainClip",children:Object(r.jsx)("path",{d:"M2828 0H0V2189H2226L2828 1664V0Z"})})})})}var _=b.a.div(A()),E=b.a.div(I()),D=Object(b.a)(E)(F(),(function(n){return n.moved?"transform: translate(200px, 200px)":""}),(function(n){return n.moved?"transform: scale(0.4) translate(109%, 109%)":""})),K=Object(b.a)(E)(M()),P=b.a.div(W()),G=b.a.div(L()),J=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).state={panels:[]},r.animationSpeed=1,r}return Object(u.a)(e,[{key:"componentDidUpdate",value:function(n,t){var e=this;if(n.messages!==this.props.messages&&this.props.messages!==[]){var o=[[],[],[]];this.props.messages.map((function(n,t){var o=n.user,a=n.word;return Object(r.jsx)(z,{author:o,word:a,speed:e.animationSpeed},t)})).forEach((function(n){var t=n.key%3;o[t].push(n)})),this.setState({panels:o})}}},{key:"render",value:function(){return Object(r.jsxs)(_,{children:[Object(r.jsx)(N,{}),Object(r.jsx)(R,{}),Object(r.jsx)(D,{moved:this.props.switched}),Object(r.jsx)(K,{children:Object(r.jsxs)(P,{children:[Object(r.jsx)(G,{children:this.state.panels[0]}),Object(r.jsx)(G,{style:{transform:"translate(300px, 0)"},children:this.state.panels[1]}),Object(r.jsx)(G,{children:this.state.panels[2]})]})})]})}}]),e}(a.a.Component),X=e(9);function q(){var n=Object(f.a)(["\n    display: flex;\n    height: 100%;\n\n    @media screen and (max-width: 1100px) {\n        flex-direction: column;\n        margin-top: 6.5em;\n    }\n"]);return q=function(){return n},n}function H(){var n=Object(f.a)(["\n    &:focus-within {\n        outline: none;\n    }\n\n    &:focus-within > "," {\n        width: 100%;\n    }\n"]);return H=function(){return n},n}function V(){var n=Object(f.a)(["\n    width: 90%;\n    height: 6px;\n    transition: 150ms all ease;\n    background-color: var(--input-color);\n    border-radius: 9px;\n    margin-left: auto;\n"]);return V=function(){return n},n}function Z(){var n=Object(f.a)(["\n    background-color: var(--input-color);\n    color: var(--form-color);\n    font-size: 1.15em;\n    width: 100px;\n    height: 30px;\n    margin-left: auto;  \n    margin-bottom: auto;\n"]);return Z=function(){return n},n}function B(){var n=Object(f.a)(["\n    color: red;\n    margin: auto;\n    line-height: 100%;\n"]);return B=function(){return n},n}function U(){var n=Object(f.a)(["\n    display: flex;\n    margin: 0.5em 0;\n"]);return U=function(){return n},n}var Y=b.a.div(U()),$=b.a.p(B()),Q=b.a.button(Z()),nn=b.a.div(V()),tn=b.a.div.attrs((function(n){return{tabIndex:"-1"}}))(H(),nn),en=b.a.div(q()),rn=function(n){return Object(r.jsx)("select",{name:"group",id:"group",onChange:n.handleChange,value:n.group,children:n.groups.map((function(n){return Object(r.jsx)("option",{value:n,children:n})}))})};function on(){var n=Object(f.a)(["\n    background-color: var(--form-color);\n    color: var(--text-color);\n\n    display: flex;\n    flex-direction: column;\n\n    transition: all 400ms ease;\n\n    border-radius: 10px;\n    width: 25em;\n    padding: 3em;\n    margin: 0 auto;\n    \n    textarea {\n        margin-left: 10%;\n        margin-top: 1em;\n        height: 12em;\n        width: 90%;\n        resize: none;\n        border: none;\n        outline: none;\n        background-color: var(--form-color);\n        color: var(--text-color);\n        font-size: 1.1em;\n    }\n\n    @media screen and (max-width: 1100px) {\n        width: 80%;\n        padding: 2em;\n    }\n"]);return on=function(){return n},n}function an(){var n=Object(f.a)(["\n    margin-left: auto;\n    display: flex;\n    width: 90%;\n\n    select {\n        margin-right: 1em;\n        margin-left: auto;\n        \n        outline: none;\n        border-radius: 3px;\n        border: none;\n        font-size: 1.1em;\n\n        color: var(--input-color);\n        background: var(--form-color);\n    }\n\n    "," {\n        margin-left: 0;\n    }\n"]);return an=function(){return n},n}function sn(){var n=Object(f.a)(["\n    margin-bottom: 1em;\n"]);return sn=function(){return n},n}var cn=Object(b.a)(nn)(sn()),un=b.a.div(an(),Q),dn=b.a.form(on()),hn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.state={words:"",csrf:"",group:r.props.groups[0]},r}return Object(u.a)(e,[{key:"handleChange",value:function(n){console.log(n.target),this.setState(Object(X.a)({},n.target.id,n.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(n){var t=this;n.preventDefault();var e=this.state.words.split(",").filter((function(n){return n.match("^[A-Za-z0-9\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0118\u0141\u0143\xd3\u015a\u0179\u017b ]+$")}));fetch("/api/add",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify({words:e,group:this.state.group})}).then((function(n){if(n.ok)return n.json();throw Error("Bad response, status ".concat(n.status))})).then((function(n){return console.log(n),n})).then((function(n){return t.props.addedNewWords(n.added_words)})).catch((function(n){return console.error(n)}))}},{key:"componentDidMount",value:function(){var n=this;console.log(this.props.groups),fetch("/api/add",{method:"GET"}).then((function(n){if(n.ok)return n.json()})).then((function(t){return n.setState({csrf:t.csrf_token})})).then((function(){return console.log(n.state)})).catch((function(n){return console.error(n)}))}},{key:"render",value:function(){return Object(r.jsxs)(dn,{onSubmit:this.handleSubmit,autoComplete:"off",className:"wordsForm",children:[Object(r.jsx)("label",{htmlFor:"words",children:"Words: "}),Object(r.jsxs)(tn,{children:[Object(r.jsx)("textarea",{onChange:this.handleChange,id:"words",name:"words",placeholder:"Type word(s) here",children:this.state.words}),Object(r.jsx)(cn,{})]}),Object(r.jsxs)(un,{children:[Object(r.jsx)(rn,{handleChange:this.handleChange,group:this.state.group,groups:this.props.groups}),Object(r.jsx)(Q,{type:"submit",onSubmit:this.handleSubmit,children:"Submit"})]})]})}}]),e}(a.a.Component),ln=e(18);function fn(){var n=Object(f.a)(["\n    text-align: center;\n    margin: auto;\n\n    transition: all 400ms ease;   \n\n    span {\n        color: var(--form-color);\n        font-weight: bold;\n    }\n\n    @media screen and (max-width: 1100px) {\n        padding-bottom: 10em;\n        width: 100%;\n\n        article {\n            margin: 20px 0;\n        }\n        \n        h2 {\n            margin: 0.5em 0;\n        }\n    }\n\n    @media screen and (max-width: 1250px) {\n        padding-bottom: 15em;\n    }\n"]);return fn=function(){return n},n}function bn(){var n=Object(f.a)(["\n    color: var(--form-color);\n    font-weight: bold;\n"]);return bn=function(){return n},n}function pn(){var n=Object(f.a)(["\n    font-size: 1.1em;\n    color: var(--form-color);\n    font-weight: bold;\n"]);return pn=function(){return n},n}function mn(){var n=Object(f.a)(["\n    height: 3em;\n    background-color: var(--input-color);\n    color: var(--form-color);\n    border: none;\n    border-radius: 12px;\n    font-size: 36px;\n    margin: 0 30px;\n    width: 9em;\n\n    &:focus {\n        outline: none;\n    }\n\n\n    @media screen and (max-width: 1100px) {\n        font-size: 32px;\n        height: 2em;\n    }\n"]);return mn=function(){return n},n}function jn(){var n=Object(f.a)(["\n    position: relative;\n    width: max-content;\n    margin: 0 auto;\n    \n    transition: 400ms all ease;\n\n    &:hover {\n        transform: scale(1.2);\n    }\n\n    & > button:hover {\n        transform: none;\n    }\n\n    button {\n        padding-right: 20%;\n    }\n\n    select {\n        position: absolute;\n        bottom: 50%;\n        right: 1em;\n        transform: translate(-50%, 50%);\n        border: none;\n        background-color: var(--input-color);\n        color: var(--form-color);\n        font-size: 1.1em;\n        text-align: right;\n    }\n\n    @media screen and (max-width: 1100px) {\n        margin: 0 auto;\n        \n        select {\n        right: 0.3em;\n        }\n    }\n"]);return jn=function(){return n},n}var gn=b.a.div(jn()),xn=b.a.button(mn()),vn=b.a.h2(pn()),On=b.a.h2(bn()),wn=b.a.div(fn()),yn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){return Object(c.a)(this,e),t.call(this,n)}return Object(u.a)(e,[{key:"render",value:function(){var n=this.props.newWords.length>0?Object(r.jsx)(Sn,{newWords:this.props.newWords}):null;return Object(r.jsxs)(wn,{children:[Object(r.jsxs)("article",{children:[n,Object(r.jsxs)("h2",{children:["There are ",Object(r.jsx)("span",{children:this.props.wordsCount})," words in database."]}),Object(r.jsx)("h2",{children:"Hit the button below to get words from database"}),Object(r.jsx)(On,{children:this.props.copySuccess})]}),Object(r.jsx)(kn,{showSuccessMessage:this.props.setSuccessMessage,groups:this.props.groups})]})}}]),e}(a.a.Component),kn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).state={group:"all",groups:["all"].concat(Object(ln.a)(r.props.groups))},r.handleClick=r.handleClick.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r}return Object(u.a)(e,[{key:"handleClick",value:function(n){var t=this,e=("all"==this.state.group?this.state.groups.slice(1):[this.state.group]).reduce((function(n,t){return n+(t+",")}),"").slice(0,-1);fetch("/api/bank?groups=".concat(e)).then((function(n){return n.json()})).then((function(n){navigator.clipboard.writeText(n),t.props.showSuccessMessage()})).catch((function(n){return console.error(n)}))}},{key:"handleChange",value:function(n){this.setState({group:n.target.value})}},{key:"render",value:function(){return Object(r.jsxs)(gn,{children:[Object(r.jsx)(xn,{type:"button",onClick:this.handleClick,children:"Get words!"}),Object(r.jsx)(rn,{handleChange:this.handleChange,value:this.state.group,groups:this.state.groups})]})}}]),e}(a.a.Component);function Sn(n){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Following words have been added to database:"}),Object(r.jsx)(vn,{children:n.newWords})]})}var Cn=yn;function Tn(){var n=Object(f.a)(["\n    position: absolute;\n    top: 1.5rem;\n    right: 1.5rem;\n    width: 6em;\n    height: 2em;\n    font-size: 1.1em;\n    border-radius: 10px;\n    z-index: 2;\n    color: var(--input-color);\n    background-color: var(--form-color);\n\n    @media screen and (max-width: 1100px) {\n        font-size: 0.9em;\n        top: unset;\n        bottom: 0.5em;\n        right: unset;\n        left: 0.5em;\n        width: 4.5em;\n    }\n"]);return Tn=function(){return n},n}function zn(){var n=Object(f.a)(["\n    padding-right: 20%;\n\n    .tutorial {\n        padding-top: 5em;\n    }\n\n    section {\n        flex: 1;\n        margin: auto 2em;\n        display: flex;\n        flex-direction: column;\n    }\n\n    @media screen and (max-width: 1100px) {\n        position: relative;\n        padding: 0;\n        height: auto;\n\n        .tutorial {\n            padding-top: 0;\n        }\n    }\n"]);return zn=function(){return n},n}var Ln=Object(b.a)(en)(zn()),Wn=b.a.button(Tn()),Mn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).addedNewWords=r.addedNewWords.bind(Object(d.a)(r)),r.setSuccessMessage=r.setSuccessMessage.bind(Object(d.a)(r)),r.state={count:0,messages:[],copySuccess:"",newWords:[],groups:[]},r}return Object(u.a)(e,[{key:"addedNewWords",value:function(n){var t=this;this.setState({newWords:n}),setTimeout((function(){return t.setState({newWords:""})}),5e3),this.fetchWordsCount(),this.fetchWordsForSlider()}},{key:"setSuccessMessage",value:function(){var n=this;this.setState({copySuccess:"Database words have been copied to clipboard."}),setTimeout((function(){return n.setState({copySuccess:""})}),5e3)}},{key:"fetchWordsForSlider",value:function(){var n=this;fetch("/api/words").then((function(n){if(console.log(n),n.ok)return n.json()})).then((function(t){n.setState({messages:t})})).catch((function(n){return console.error(n)}))}},{key:"fetchWordsCount",value:function(){var n=this;fetch("/api/count").then((function(n){if(n.ok)return n.text()})).then((function(t){return n.setState({count:t})})).catch((function(n){return console.error(n)}))}},{key:"componentDidMount",value:function(){this.fetchWordsForSlider(),this.fetchWordsCount()}},{key:"render",value:function(){return Object(r.jsxs)(Ln,{children:[Object(r.jsx)(Wn,{onClick:this.props.onLogout,type:"button",children:"Logout"}),Object(r.jsxs)("section",{children:[Object(r.jsx)(O,{}),Object(r.jsx)(hn,{addedNewWords:this.addedNewWords,groups:this.props.groups})]}),Object(r.jsx)("section",{children:Object(r.jsx)(Cn,{newWords:this.state.newWords,wordsCount:this.state.count,copySuccess:this.state.copySuccess,setSuccessMessage:this.setSuccessMessage,groups:this.props.groups})}),Object(r.jsx)(J,{switched:this.props.switched,messages:this.state.messages})]})}}]),e}(a.a.Component);function Fn(){var n=Object(f.a)(["\n    margin: auto 3rem;\n    margin-right: 10%;\n    flex: 1;\n    font-size: 1.2em;\n\n    ul {\n        padding-left: 0;\n        list-style: none;\n    }\n\n    li {\n        margin: 20px 0;\n    }\n\n    @media screen and (max-width: 1100px) {\n        margin: 0 1em;\n        flex: unset;\n    }\n\n"]);return Fn=function(){return n},n}var In=b.a.article(Fn());var An=function(){return Object(r.jsx)(In,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("h2",{children:"This app allows you to create and store words dictionary. First, you have to log in, or register, if you don't have an account."})}),Object(r.jsx)("li",{children:Object(r.jsx)("h2",{children:"After login you can see already existing words in slider, or add your own ones!"})}),Object(r.jsx)("li",{children:Object(r.jsx)("h2",{children:"You can also retrieve dictionary from the database. Words are returned in form of text, separated by comma (so they are ready to put in pictionary game)"})})]})})};function Nn(){var n=Object(f.a)(["\n    margin: 0.9em 0;\n\n    input {\n        width: 90%;\n        margin-left: 10%;\n        line-height: 1.8em;\n        border: none;\n        outline: none;\n        background-color: var(--form-color);\n        color: var(--text-color);\n        font-size: 1.1em;\n    }\n\n"]);return Nn=function(){return n},n}var Rn=b.a.div(Nn());var _n=function(n){return Object(r.jsxs)(Rn,{children:[Object(r.jsx)("label",{htmlFor:n.id,children:n.children}),Object(r.jsxs)(tn,{children:[Object(r.jsx)("input",{value:n.value,onChange:n.onChange,id:n.id,type:n.type,name:n.name,required:!0}),Object(r.jsx)(nn,{})]})]})},En=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.state={name:"",password:"",errorMessage:"",csrf:""},r}return Object(u.a)(e,[{key:"componentDidMount",value:function(){var n=this;fetch("/api/login",{method:"GET"}).then((function(n){if(n.ok)return n.json()})).then((function(t){n.setState({csrf:t.csrf_token})})).catch((function(n){return console.error(n)}))}},{key:"handleChange",value:function(n){this.setState(Object(X.a)({},n.target.id,n.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(n){var t=this;n.preventDefault();var e={user_name:this.state.name,user_pass:this.state.password},r={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify(e)};fetch("/api/login",r).then((function(n){if(!n.ok)throw t.setState({errorMessage:"Something went wrong!"}),new Error("Something went wrong.");return n.json()})).then((function(n){console.log(n),t.props.onLogin(n.groups)})).catch((function(n){return console.error(n)}))}},{key:"render",value:function(){return Object(r.jsxs)("form",{onSubmit:this.handleSubmit,id:"loginForm",autoComplete:"off",children:[Object(r.jsx)(_n,{id:"name",value:this.state.name,onChange:this.handleChange,name:"user_name",type:"text",children:"Login:"}),Object(r.jsx)(_n,{id:"password",value:this.state.password,onChange:this.handleChange,name:"user_pass",type:"password",children:"Password:"}),Object(r.jsxs)(Y,{children:[Object(r.jsx)($,{children:this.state.errorMessage}),Object(r.jsx)(Q,{type:"submit",children:"Submit"})]})]})}}]),e}(a.a.Component),Dn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.state={name:"",password:"",password2:"",secretKey:"",errorMessage:"",csrf:""},r}return Object(u.a)(e,[{key:"componentDidMount",value:function(){var n=this;fetch("/api/register",{method:"GET"}).then((function(n){if(n.ok)return n.json()})).then((function(t){console.log(t),n.setState({csrf:t.csrf_token})})).catch((function(n){return console.error(n)}))}},{key:"handleChange",value:function(n){this.setState(Object(X.a)({},n.target.id,n.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(n){var t=this;n.preventDefault();var e={user_name:this.state.name,user_pass:this.state.password,user_pass_repeat:this.state.password2,secret_key:this.state.secretKey},r={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":this.state.csrf},body:JSON.stringify(e)};fetch("/api/register",r).then((function(n){n.ok?console.log("sucess"):t.setState({errorMessage:"Something went wrong"})})).catch((function(n){return console.error(n)})),console.log(this.state)}},{key:"render",value:function(){return Object(r.jsxs)("form",{onSubmit:this.handleSubmit,id:"registerForm",autocomplete:"off",style:this.state.style,children:[Object(r.jsx)(_n,{id:"name",value:this.state.name,onChange:this.handleChange,name:"user_name",type:"text",children:"Login:"}),Object(r.jsx)(_n,{id:"password",value:this.state.password,onChange:this.handleChange,name:"user_pass",type:"password",children:"Password:"}),Object(r.jsx)(_n,{id:"password2",value:this.state.password2,onChange:this.handleChange,name:"user_pass2",type:"password",children:"Retype password:"}),Object(r.jsx)(_n,{id:"secretKey",value:this.state.secretKey,onChange:this.handleChange,name:"secret_key",type:"text",children:"Group key:"}),Object(r.jsxs)(Y,{children:[Object(r.jsx)($,{children:this.state.errorMessage}),Object(r.jsx)(Q,{type:"submit",children:"Submit"})]})]})}}]),e}(a.a.Component);function Kn(){var n=Object(f.a)(["flex: 1;"]);return Kn=function(){return n},n}function Pn(){var n=Object(f.a)(["\n    width: 6px;\n    height: 3em;\n    border-radius: 5px;\n    background-color: var(--input-color);\n    margin: 0 auto;\n"]);return Pn=function(){return n},n}function Gn(){var n=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    margin-top: 1em;\n    display: flex;\n\n    button {\n        background-color: var(--form-color);\n        color: var(--text-color);\n        font-size: 1.3em;\n        flex: 1;\n        transition: all 300ms ease;\n    }\n\n    button.active {\n        font-size: 1.8em;\n        color: var(--input-color);\n        font-weight: bold;\n    }\n\n    button.active:hover {\n        transform: none;\n    }\n"]);return Gn=function(){return n},n}function Jn(){var n=Object(f.a)(["\n    width: 25em;\n    border-radius: 10px;\n    margin: auto;\n    margin-right: 5em;\n    padding: 2.6em;\n\n    background-color: var(--form-color);\n    color: var(--text-color);\n\n    &, & form {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    @media screen and (max-width: 1100px) {\n        width: 60%;\n        margin: 0 auto;\n        margin-bottom: 10%;\n    }\n"]);return Jn=function(){return n},n}var Xn=b.a.div(Jn()),qn=b.a.div(Gn()),Hn=b.a.div(Pn()),Vn=b.a.div(Kn()),Zn=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).switchToLogin=r.switchToLogin.bind(Object(d.a)(r)),r.switchToRegister=r.switchToRegister.bind(Object(d.a)(r)),r.state={tab:"login"},r}return Object(u.a)(e,[{key:"switchToLogin",value:function(){this.setState({tab:"login"})}},{key:"switchToRegister",value:function(){this.setState({tab:"register"})}},{key:"render",value:function(){var n="login"===this.state.tab?Object(r.jsx)(En,{onLogin:this.props.onLogin}):Object(r.jsx)(Dn,{});return Object(r.jsxs)(Xn,{children:[n,Object(r.jsxs)(qn,{children:[Object(r.jsx)("button",{type:"button",className:"register"===this.state.tab?"active":"",onClick:this.switchToRegister,children:"Register"}),Object(r.jsx)(Vn,{children:Object(r.jsx)(Hn,{})}),Object(r.jsx)("button",{type:"button",className:"login"===this.state.tab?"active":"",onClick:this.switchToLogin,children:"Login"})]})]})}}]),e}(a.a.Component);function Bn(){var n=Object(f.a)(["\n  @media screen and (max-width: 1100px) {\n    article h2 {\n      margin: 0;\n      font-size: 20px;\n    }\n    article li {\n      margin: 10px 0;\n    }\n  }\n"]);return Bn=function(){return n},n}var Un=Object(b.a)(en)(Bn());function Yn(n){return Object(r.jsxs)(Un,{children:[Object(r.jsx)(An,{}),Object(r.jsx)(Zn,{onLogin:n.onLogin})]})}var $n=function(n){Object(h.a)(e,n);var t=Object(l.a)(e);function e(n){var r;return Object(c.a)(this,e),(r=t.call(this,n)).onLogin=r.onLogin.bind(Object(d.a)(r)),r.onLogout=r.onLogout.bind(Object(d.a)(r)),r.switchCorner=r.switchCorner.bind(Object(d.a)(r)),r.state={loggedIn:!1,opened:!1,groups:[]},r}return Object(u.a)(e,[{key:"componentDidMount",value:function(){var n=this;fetch("/api/check",{method:"GET"}).then((function(n){if(n.ok)return n.json()})).then((function(t){console.log("this is data "),console.log(t),t.logged?(n.setState({loggedIn:!0}),n.switchCorner()):"False"==t.logged&&n.setState({loggedIn:!1})})).catch((function(n){return console.error(n)}))}},{key:"onLogin",value:function(n){this.setState({loggedIn:!0,groups:n}),this.switchCorner()}},{key:"onLogout",value:function(){var n=this;fetch("/api/logout",{method:"GET"}).then((function(t){t.ok&&n.setState({loggedIn:!1})})).catch((function(n){return console.error(n)}))}},{key:"switchCorner",value:function(){var n=this;setInterval((function(){n.setState((function(n){return{opened:n.loggedIn}}))}),0)}},{key:"render",value:function(){var n=this.state.loggedIn?Object(r.jsx)(Mn,{switched:this.state.opened,onLogout:this.onLogout,groups:this.state.groups}):Object(r.jsx)(Yn,{onLogin:this.onLogin});return Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)(v,{}),n,Object(r.jsx)(j,{})]})}}]),e}(a.a.Component);s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)($n,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.bb0920f5.chunk.js.map